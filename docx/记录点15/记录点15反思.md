记录点15反思：上下文感知的缺失

一、问题重述
在记录点14中，我们试图通过增强 S2 的能力来制造竞争，但 Pull Loss 依然为 0。
进一步分析发现，即使我们移除了 Push Loss，S2 依然无法显著优于 S1。
这引出了一个更深层的问题：**S1 和 S2 都是 Pointwise 模型**。

二、Pointwise 的局限
1.  **S1 (Master)**：仅接收 $z_I$（序列特征）和 $z_F$（由 $z_I$ 逐点生成的特征）。这意味着 S1 无法感知“所在的细胞系环境”，除非 $z_I$ 本身包含了细胞系信息（但在 Zero-shot 设定下，我们假设测试集是新细胞，$z_I$ 只是化合物+蛋白）。
2.  **S2 (Opportunist)**：在记录点14中，S2 同样只接收 $z_I, z_F$（detach）。它也无法感知环境。
3.  **结果**：两个“盲人”在比赛。S1 因为可以优化 Backbone，所以略强。S2 没有任何优势。

三、解决方案的演进
1.  **给 S2 开挂**：为了建立一个“完美基准”，我们必须让 S2 知道环境。我们决定直接将 Teacher 的 `target_dist`（隐含 Cell ID）传给 S2。S2 变成了“明眼人”。
2.  **给 S1 机会**：如果 S2 是明眼人，S1 依然是盲人，S1 永远无法赶上 S2，Pull Loss 会很大且无法下降（或者 S1 会崩塌）。
3.  **S1 的复明**：S1 需要一种机制来感知环境。由于我们使用 `CellBatchSampler`，同一 Batch 来自同一细胞。因此，**Batch 内的统计量**（如 $z_F$ 的均值）就是环境的指纹。
4.  **最终方案**：
    -   S2：输入 `z_I` + `Teacher Dist` (Cheat)。
    -   S1：输入 `z_I` + `Mean(Batch z_F)` (Context)。
    -   这样 S1 可以通过学习从 Context 中提取细胞特征来逼近 S2 的性能。

四、预期
S1 将学会利用 Batch Context 进行 Zero-Shot 推理（只要测试时的 Context 具有代表性）。这将直接提升 AUPR。
